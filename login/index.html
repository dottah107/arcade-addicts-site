<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Sign in • Arcade Addicts</title>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root{--bg:#000;--panel:#0b0b0b;--surface:#0f0f0f;--muted:#161616;--text:#fff;--accent:#00FFFF;--radius:14px}
*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#000;color:#fff}
.wrap{max-width:520px;margin:60px auto;padding:0 16px}
.card{background:var(--surface);border:1px solid var(--muted);border-radius:var(--radius);padding:18px}
h1{margin:0 0 12px;color:var(--accent)}
label{display:block;margin:10px 0 6px;font-weight:600}
input{width:100%;padding:12px;border-radius:10px;border:1px solid #222;background:#0b0b0b;color:#fff}
.btn{width:100%;margin-top:12px;padding:12px;border-radius:12px;font-weight:800;border:none;cursor:pointer}
.btn.primary{background:var(--accent);color:#000}.btn.ghost{background:transparent;border:2px solid var(--accent);color:var(--accent)}
a.inline{color:var(--accent);text-decoration:none}
#msg{margin-top:8px;color:#f99;font-weight:600;min-height:1.2em}
.switch{margin-top:12px;text-align:center;color:#cfd}
small.muted{color:#9ab}
</style>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head><body>
  <div class="wrap">
    <h1>Member Sign In</h1>
    <div class="card">
      <label for="email">Email</label>
      <input id="email" type="email" autocomplete="email" required>
      <label for="pw">Password</label>
      <input id="pw" type="password" minlength="6" autocomplete="current-password" required>
      <button id="signin" class="btn primary">Sign in</button>
      <div class="switch"><a id="showSignup" class="inline" href="#">Create an account</a></div>
      <div id="msg"></div>
      <small class="muted">Forgot password? <a class="inline" href="/reset/">Reset your password</a></small>
    </div>

    <div id="signup" class="card" style="margin-top:14px;display:none">
      <h2 style="margin:0 0 10px">Create account</h2>
      <p style="margin:0 0 10px">Use the same email + a new password. You’ll be signed in after confirming any email link if required.</p>
      <label for="up_email">Email</label>
      <input id="up_email" type="email" autocomplete="email">
      <label for="up_pw">Password (min 6)</label>
      <input id="up_pw" type="password" minlength="6" autocomplete="new-password">
      <button id="doSignup" class="btn ghost">Create account</button>
    </div>
  </div>

<script>
const sb = supabase.createClient("https://xvhkwyhncuivsfwfmvbg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh2aGt3eWhuY3VpdnNmd2ZtdmJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MzQxNjgsImV4cCI6MjA3NDQxMDE2OH0.oeCz6LHCCzLvHqO7q9cNiiiotrUm8kzmzdJjfzBIA-8");
const $  = (id)=>document.getElementById(id);
const show = (m)=>{ const el=$("msg"); if(el){ el.textContent=m||""; } };

(async()=>{
  // already signed in? go to member
  const { data:{ session } } = await sb.auth.getSession();
  if(session){ location.href="/member/"; return; }

  $("signin").onclick = async (e)=>{
    e.preventDefault();
    const email = $("email").value.trim();
    const pw    = $("pw").value;
    if(!email || !pw){ show("Email and password required."); return; }
    const { error } = await sb.auth.signInWithPassword({ email, password: pw });
    if(error){ show(error.message); return; }
    location.href="/member/";
  };

  $("showSignup").onclick = (e)=>{ e.preventDefault(); $("signup").style.display="block"; };
  $("doSignup").onclick   = async (e)=>{
    e.preventDefault();
    const email = $("up_email").value.trim() || $("email").value.trim();
    const pw    = $("up_pw").value || $("pw").value;
    if(!email || !pw){ show("Email and password required."); return; }
    const { error } = await sb.auth.signUp({ email, password: pw });
    if(error){ show(error.message); return; }
    show("Check your email to verify your account, then sign in.");
  };

  

  // Enter key submits
  ["email","pw","up_email","up_pw"].forEach(function(id){
    const el = document.getElementById(id);
    if(el){ el.addEventListener("keydown", function(ev){ if(ev.key==="Enter") $("signin").click(); }); }
  });
})();
</script>
<script>
(function(){
  if(!window.supabase) return;
  var sb = window.sb || supabase; // your page already created the client
  var a  = document.getElementById("reset");
  if(!a) return;
  a.addEventListener("click", async function(e){
    e.preventDefault();
    var email = (document.getElementById("email")||{}).value||"";
    email = email.trim();
    if(!email){ alert("Enter your email first."); return; }
    const { error } = await sb.auth.resetPasswordForEmail(email, {
      redirectTo: location.origin + "/change-password/"
    });
    if(error){ alert(error.message); return; }
    alert("Reset link sent. Check your email.");
  });
})();
</script>
</body></html>









<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Member Dashboard - Arcade Addicts</title>
<style>
body {
  background: #0b0c10;
  color: #eee;
  font-family: "Segoe UI", Arial, sans-serif;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 900px;
  margin: 0 auto;
  text-align: center;
}
h1 {
  color: #00e0ff;
}
.card {
  background: #171717;
  margin-top: 20px;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.4);
}
</style>
</head>

<body>
<div class="container">
  <h1>Welcome, <span id="member-email"></span></h1>
  <p>Your personal member dashboard is ready!</p>
  <div class="card">
    <p>Here you will soon be able to upload videos, share highlights, and post your content.</p>
  </div>
</div>

<script type="module">
  import { createClient } from 'https://esm.sh/@supabase/supabase-js@2'

  // Supabase connection
  const supabaseUrl = 'https://xvhkwyhncuivsfwfmvbg.supabase.co'
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh2aGt3eWhuY3VpdnNmd2ZtdmJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MzQxNjgsImV4cCI6MjA3NDQxMDE2OH0.oeCz6LHCCzLvHqO7q9cNiiiotrUm8kzmzdJjfzBIA-8'
  const supabase = createClient(supabaseUrl, supabaseKey)

  // Check login session
  const { data: { session }, error } = await supabase.auth.getSession()
  if (error) console.error('Session Error:', error)

  if (!session) {
    window.location.href = '/login.html'
  } else {
    const user = session.user
    console.log('Welcome:', user.email)
    const emailElement = document.getElementById('member-email')
    if (emailElement) emailElement.textContent = user.email
  }
</script>
</body>
</html>
